<%- include("layouts/header") %>  

<main>
    <% if(errors) { %>
        <% for (error of errors) { %>
            <div class="error-message">
                <p><%= error.msg %></p>
                <!-- <p><a href="#">Close</a></p> -->
            </div>
        <% } %>
    <% } %>
    <h1>Welcome to Edit Product Page!!!</h1>
    <form 
    action="/product/update/<%=product.productId%>" method="POST"
    class="form-container"
    >
        <div class="form-group" >
            <label 
            class="form-label" 
            for="productName">Product Name:</label>
            <input
            class="form-input" 
            type="text" 
            id="productName" 
            name="productName"
            value="<%= product.productName %>" 
            required>
        </div>
        <br>
        <div class="form-group">
            <label 
            class="form-label" 
            for="categoryName">Category Name:</label>
            <select 
            class="form-select" 
            name="categoryId" 
            required>
                <% for (category of categories) { %>
                <option
                <% if (category.categoryId === product.categoryId) { %> 
                    selected 
                <% } %>
                value="<%= category.categoryId %>"
                >
                    <%= category.categoryName %>
                </option>
                <% } %>
            </select>
        </div>
        
        <button type="submit">Update</button>
    </form>
</main>
</body>
</html>